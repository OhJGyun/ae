lane_selector_node:
  ros__parameters:
    # π”§ SIM: Localization configuration
    use_tf_for_localization: false  # SIM: Use odom GT pose instead of TF
    tf_timeout: 0.3
    use_odom_pose: true             # SIM: True (use gym GT pose from odom)
    odom_topic: "/ego_racecar/odom" # SIM: /ego_racecar/odom

    # μ¥μ• λ¬Ό μ •λ³΄ ν† ν”½ (PoseArray from ring_viz_node or joon_obs_node)
    obstacles_topic: "/scan_viz/obstacles"

    # λ μΈ CSV (μ„Όν„° + μΆ/μ° λ³΄μ΅° λ μΈ)
    # CRITICAL: These paths MUST exactly match map_control_params.yaml lane_csv_paths!
    # π”§ SIM: Updated to use full CSV format with s,d,kappa,psi,ax
    lane_csv_paths:
      - "/home/ojg/ae/track/path/map_path/test_15.0/lane_optimal_full.csv"  # Lane 0: μµμ  λΌμΈ
      - "/home/ojg/ae/track/path/map_path/test_15.0/lane_left_full.csv"     # Lane 1: μ™Όμ½ νν”Ό
      - "/home/ojg/ae/track/path/map_path/test_15.0/lane_right_full.csv"    # Lane 2: μ¤λ¥Έμ½ νν”Ό

    # λ μΈ μ„ νƒ νλΌλ―Έν„°
    lane_topic: "/lane_selector/target_lane"
    lookahead_distance: 15.0        # μ „λ°© κ°μ§€ κ±°λ¦¬ (λ―Έν„°)
    obstacle_clearance: 0.4         # μ¥μ• λ¬Όκ³Ό λ μΈ κ°„ μµμ† ν΄λ¦¬μ–΄λ°μ¤ (λ―Έν„°)
    forward_min_distance: 0.0       # μ „λ°© μ¥μ• λ¬Ό μµμ† κ°μ§€ κ±°λ¦¬ (λ―Έν„°)
    min_switch_interval: 1.5        # λ μΈ λ³€κ²½ μµμ† κ°„κ²© (μ΄)
    update_rate_hz: 50.0            # λ μΈ ν‰κ°€ μ—…λ°μ΄νΈ λΉλ„ (Hz)

    # β… λ™μ /μ •μ  μ¥μ• λ¬Ό λ³„λ„ detection hold time
    static_detection_hold_time: 0.02    # μ •μ  μ¥μ• λ¬Ό κ°μ§€ μ μ§€ μ‹κ°„ (20ms)
    dynamic_detection_hold_time: 0.2    # λ™μ  μ¥μ• λ¬Ό κ°μ§€ μ μ§€ μ‹κ°„ (200ms)

    # β… Local Planner ν™•μ¥: λ΅μ»¬ μ„Έκ·Έλ¨ΌνΈ μΈλ±μ¤ λ²”μ„ (μ „λ°©/ν›„λ°© λ¶„λ¦¬)
    local_index_margin_forward: 100   # μ°¨λ‰ μ„μΉ κΈ°μ¤€ μ „λ°© μΈλ±μ¤ λ²”μ„
    local_index_margin_backward: 30   # μ°¨λ‰ μ„μΉ κΈ°μ¤€ ν›„λ°© μΈλ±μ¤ λ²”μ„

    # β… SCC (Smart Cruise Control) νλΌλ―Έν„°
    scc_enabled: false                   # SCC κΈ°λ¥ ν™μ„±ν™” μ—¬λ¶€
    scc_topic: "/control/scc_active"    # SCC μƒνƒ ν† ν”½

    # μ‹κ°ν™”
    marker_frame_id: "map"
